RewriteEngine On

RewriteRule ^home$ /index.php [L]

RewriteRule ^about$ /about.php [L]


# Level 3 category
RewriteRule ^categories/([^/]+)/([^/]+)/([^/]+)$ /categories.php?maincategory=$1&subcategory=$2&category=$3 [QSA,L,B]

# Level 2 category
RewriteRule ^categories/([^/]+)/([^/]+)$ /categories.php?maincategory=$1&subcategory=$2 [QSA,L,B]

# Level 4 category
RewriteRule ^categories/([^/]+)/?$ /categories.php?category=$1 [QSA,L,B]

# Level 1 category
RewriteRule ^main_categories/([^/]+)$ /categories.php?maincategory=$1 [QSA,L,B]

# Pagination
RewriteRule ^categories/([^/]+)/([^/]+)/([^/]+)/page/(\d+)/?$ /categories.php?maincategory=$1&subcategory=$2&category=$3&page=$4 [QSA,L,B]

# Pagination 2
RewriteRule ^categories/([^/]+)/([^/]+)/page/(\d+)/?$ /categories.php?maincategory=$1&subcategory=$2&page=$3 [QSA,L,B]

# Pagination 3
RewriteRule ^main_categories/([^/]+)/page/(\d+)/?$ /categories.php?maincategory=$1&page=$2 [QSA,L,B]



# Rewrite product.php?product= as product/NAME
RewriteRule ^product/([^/]+)$ /product.php?product=$1 [NE,QSA,L,B]

RewriteCond %{QUERY_STRING} ^query=([^&]+)
RewriteRule ^search/$ /search/%1? [L,R=301]

RewriteRule ^search/([^/]+)/?$ /search.php?query=$1 [L]

# Rewrite search
RewriteRule ^search/([^/]+)/page/(\d+)/?$ /search.php?query=$1&page=$2 [NE,QSA,L,B]

